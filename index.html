<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>üéÑ Qu√† Gi√°ng Sinh üéÅ</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  background:linear-gradient(135deg,#ff9acb,#ffd6e3);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:"Segoe UI",sans-serif;
  overflow:hidden;
}

/* ===== LOGIN ===== */
#login{
  background:white;
  padding:26px;
  border-radius:22px;
  text-align:center;
  width:90%;
  max-width:330px;
  box-shadow:0 15px 40px rgba(255,90,150,.35);
}
#login h3{margin-bottom:16px;color:#ff4f8b}
#login input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:2px solid #ff7aa2;
  font-size:16px;
}
#login button{
  margin-top:16px;
  padding:12px 30px;
  border:none;
  border-radius:25px;
  background:#ff4f8b;
  color:white;
  font-size:16px;
}

/* ===== MAIN ===== */
#main{
  display:none;
  width:100%;
  height:100%;
  position:relative;
  padding:env(safe-area-inset-top) env(safe-area-inset-right)
          env(safe-area-inset-bottom) env(safe-area-inset-left);
}

/* ===== GIFT ===== */
#giftBtn{
  position:absolute;
  padding:16px 30px;
  border-radius:40px;
  border:none;
  background:white;
  color:#ff3b7a;
  font-size:18px;
  font-weight:700;
  cursor:pointer;
  transition:.25s ease;
  box-shadow:0 10px 25px rgba(255,60,130,.4);
}

/* NOEL */
#noel{
  position:absolute;
  top:20%;
  left:-120px;
  font-size:56px;
  display:none;
  animation:noelRun 6s linear forwards;
}
@keyframes noelRun{
  from{left:-120px}
  to{left:110%}
}

/* LETTER */
#letter{
  display:none;
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.45);
  justify-content:center;
  align-items:center;
}
#letterBox{
  background:white;
  padding:28px;
  border-radius:22px;
  max-width:340px;
  text-align:center;
  animation:pop .4s ease;
}
@keyframes pop{
  from{transform:scale(.6);opacity:0}
  to{transform:scale(1);opacity:1}
}
#letterBox h2{color:#ff3b7a}
#letterBox p{line-height:1.6}

/* FIREWORK */
.fire{
  position:absolute;
  width:12px;
  height:12px;
  background:gold;
  border-radius:50%;
  animation:boom 1s ease-out forwards;
}
@keyframes boom{
  from{transform:scale(1);opacity:1}
  to{transform:scale(6);opacity:0}
}
</style>
</head>

<body>

<div id="login">
  <h3>üîê Nh·∫≠p m·∫≠t kh·∫©u</h3>
  <input type="password" id="pass" placeholder="M·∫≠t kh·∫©u">
  <button onclick="checkPass()">V√ÄO</button>
</div>

<div id="main">
  <button id="giftBtn">üéÅ M·ªû QU√Ä</button>
  <div id="noel">üßë‚ÄçüéÑ</div>

  <div id="letter">
    <div id="letterBox">
      <h2>üéÑ Gi√°ng Sinh Vui V·∫ª Nh√©</h2>
      <p>
        Me Ri Chiss M·ª´n<br>
        QU√† c·ªßa t ƒë√¢u<br><br>
        Qu√† c·ªßa t ƒë√¢u<br>
       Qu√† c·ªßa t ƒë√¢u<br><br>
        <b>ƒëi·ªÅu j quan tr·ªçng nh·∫Øc l·∫°i 3 l·∫ßn</b>
      </p>
    </div>
  </div>
</div>

<audio id="music" src="nhac.mp3" loop></audio>

<script>
const PASSWORD = "22082012Hoai";
let count = 0;

const gift = document.getElementById("giftBtn");
const music = document.getElementById("music");
const noel = document.getElementById("noel");
const letter = document.getElementById("letter");

function checkPass(){
  if(pass.value === PASSWORD){
    login.style.display="none";
    main.style.display="block";
    moveGift();
  }else alert("Sai m·∫≠t kh·∫©u r·ªìi üòõ");
}

function moveGift(){
  const maxX = window.innerWidth - gift.offsetWidth - 20;
  const maxY = window.innerHeight - gift.offsetHeight - 40;
  gift.style.left = Math.random()*maxX + "px";
  gift.style.top = Math.random()*maxY + "px";
}

gift.addEventListener("click",()=>{
  count++;

  // ƒë·∫£m b·∫£o nh·∫°c ch·∫°y tr√™n iOS
  music.play().catch(()=>{});

  moveGift();
  gift.style.transform = `scale(${Math.max(.45,1-count*.07)})`;

  if(count===3 || count===6){
    noel.style.display="block";
    noel.style.animation="none";
    void noel.offsetWidth;
    noel.style.animation="noelRun 6s linear forwards";
  }

  if(count>=10){
    gift.style.display="none";
    fireworks();
    setTimeout(()=>letter.style.display="flex",900);
  }
});

function fireworks(){
  for(let i=0;i<45;i++){
    const f=document.createElement("div");
    f.className="fire";
    f.style.left=Math.random()*innerWidth+"px";
    f.style.top=Math.random()*innerHeight+"px";
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1000);
  }
}
</script>

</body>
</html>
